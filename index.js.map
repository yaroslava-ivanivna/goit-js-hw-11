{"version":3,"file":"index.js","sources":["../src/js/render-function.js","../src/js/pixabay-api.js","../src/js/main.js"],"sourcesContent":["export const createGalleryCardTemplate = imageInfo => {\n  return `<li class=\"gallery-card\">\n  <a class=\"gallery-link-image\" href=\"${imageInfo.largeImageURL}\"> \n      <img\n      class=\"gallery-image\"\n      src=\"${imageInfo.webformatURL}\"\n      data-source=\"${imageInfo.largeImageURL}\"\n      alt=\"${imageInfo.tags}\"\n    /> </a>\n\n   <div class=\"image-info\">\n      <p class=\"image-additional-info\"><strong>Likes:</strong> ${imageInfo.likes}</p>\n      <p class=\"image-additional-info\"><strong>Views:</strong> ${imageInfo.views}</p>\n      <p class=\"image-additional-info\"><strong>Comments:</strong> ${imageInfo.comments}</p>\n      <p class=\"image-additional-info\"><strong>Downloads:</strong> ${imageInfo.downloads}</p>\n    </div>\n   </li>`;\n};\n","export const fetchPhotosByUserQuery = searchFormValue => {\n  return fetch(\n    `https://pixabay.com/api/?key=48347976-46935637adedce2affc2ad0dc&q=${searchFormValue}&image_type=photo&orientation=horizontal$safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst loader = document.querySelector('.loader');\nfunction showLoader() {\n  loader.classList.remove('visually-hidden');\n}\n\nfunction hideLoader() {\n  loader.classList.add('visually-hidden');\n}\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryList = document.querySelector('.js-gallery');\n\nimport { createGalleryCardTemplate } from './render-function';\nimport { fetchPhotosByUserQuery } from './pixabay-api';\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  showLoader();\n\n  const searchFormValue = event.currentTarget.elements.search.value.trim();\n  if (searchFormValue === '') {\n    iziToast.error({\n      title: 'Error',\n      message:\n        'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n    });\n    searchFormEl.removeEventListener('submit', onSearchFormSubmit);\n    return;\n  }\n\n  fetchPhotosByUserQuery(searchFormValue)\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        galleryList.innerHTML = '';\n        searchFormEl.reset();\n        return;\n      }\n      const galleryTemplate = data.hits\n        .map(el => createGalleryCardTemplate(el))\n        .join('');\n\n      galleryList.innerHTML = galleryTemplate;\n\n      hideLoader();\n\n      new SimpleLightbox('.gallery a', {\n        captionDelay: 250,\n      });\n      searchFormEl.addEventListener('submit', onSearchFormSubmit);\n      showLoader();\n    })\n    .catch(err => {\n      console.error(err);\n      hideLoader();\n      searchFormEl.addEventListener('submit', onSearchFormSubmit);\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCardTemplate","imageInfo","fetchPhotosByUserQuery","searchFormValue","response","loader","showLoader","hideLoader","searchFormEl","galleryList","onSearchFormSubmit","event","iziToast","data","galleryTemplate","el","SimpleLightbox","err"],"mappings":"6vBAAO,MAAMA,EAA4BC,GAChC;AAAA,wCAC+BA,EAAU,aAAa;AAAA;AAAA;AAAA,aAGlDA,EAAU,YAAY;AAAA,qBACdA,EAAU,aAAa;AAAA,aAC/BA,EAAU,IAAI;AAAA;AAAA;AAAA;AAAA,iEAIsCA,EAAU,KAAK;AAAA,iEACfA,EAAU,KAAK;AAAA,oEACZA,EAAU,QAAQ;AAAA,qEACjBA,EAAU,SAAS;AAAA;AAAA,UCd3EC,EAAyBC,GAC7B,MACL,qEAAqEA,CAAe,0DACxF,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,ECHGC,EAAS,SAAS,cAAc,SAAS,EAC/C,SAASC,GAAa,CACpBD,EAAO,UAAU,OAAO,iBAAiB,CAC3C,CAEA,SAASE,GAAa,CACpBF,EAAO,UAAU,IAAI,iBAAiB,CACxC,CAEA,MAAMG,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAc,SAAS,cAAc,aAAa,EAKlDC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpBL,IAEA,MAAMH,EAAkBQ,EAAM,cAAc,SAAS,OAAO,MAAM,OAClE,GAAIR,IAAoB,GAAI,CAC1BS,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UAChB,CAAK,EACDJ,EAAa,oBAAoB,SAAUE,CAAkB,EAC7D,MACD,CAEDR,EAAuBC,CAAe,EACnC,KAAKU,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpBD,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EACDH,EAAY,UAAY,GACxBD,EAAa,MAAK,EAClB,MACD,CACD,MAAMM,EAAkBD,EAAK,KAC1B,IAAIE,GAAMf,EAA0Be,CAAE,CAAC,EACvC,KAAK,EAAE,EAEVN,EAAY,UAAYK,EAExBP,IAEA,IAAIS,EAAe,aAAc,CAC/B,aAAc,GACtB,CAAO,EACDR,EAAa,iBAAiB,SAAUE,CAAkB,EAC1DJ,GACN,CAAK,EACA,MAAMW,GAAO,CACZ,QAAQ,MAAMA,CAAG,EACjBV,IACAC,EAAa,iBAAiB,SAAUE,CAAkB,CAChE,CAAK,CACL,EAEAF,EAAa,iBAAiB,SAAUE,CAAkB"}